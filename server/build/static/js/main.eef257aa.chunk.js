(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{157:function(e,n,t){},211:function(e,n,t){},212:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t(0),c=t(17),i=t.n(c),o=(t(157),t(9)),s=t.n(o),u=t(14),l=t(10),j=t(263),d=t(25),f=t(18),b=t(16),p=t.n(b),h=t(139),x=Object(h.a)({typography:{fontFamily:'"Roboto"',fontSize:12,h1:{}},palette:{primary:{main:"#1e9fb0"},secondary:{main:"#F15BB5"}}}),O=t(3),m=t(26),v=t(15),g=t(4),w=t(266),y=t(254),k=t(252),C=t(264),S=t(215),N=t(251),F=t(81),I=t.n(F),P=t(214),U=t(247),D=Object(U.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/collection/4923741)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},helper:{color:"red",fontSize:"1em"}}})),T=t(250);function L(){var e=Object(O.a)(["\n    display: flex;\n    margin: auto;\n    margin-top: 1.5em;\n    margin-bottom: 1em;\n"]);return L=function(){return e},e}var q=g.a.div(L()),z=function(){return Object(r.jsx)(q,{children:Object(r.jsxs)(P.a,{variant:"body2",color:"textSecondary",align:"center",children:["Made with \u2764\ufe0f by ",Object(r.jsx)(T.a,{color:"inherit",href:"https://www.artsybiba.com/",children:"Artsy Biba"})," ",(new Date).getFullYear(),"."]})})},_=Object(a.createContext)(null);function R(){var e=Object(O.a)(["\n    display: flex;\n    justify-content: center;\n    margin: auto;\n"]);return R=function(){return e},e}function V(){var e=D(),n=Object(a.useContext)(_).setUserData,t=Object(f.f)(),c=Object(a.useState)({email:"",password:"",error:null}),i=Object(l.a)(c,2),o=i[0],j=i[1],b=function(e){var n=e.target,t=n.name,r=n.value;j((function(e){return Object(v.a)(Object(v.a)({},e),{},Object(m.a)({},t,r))}))},h=function(){var e=Object(u.a)(s.a.mark((function e(r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,p.a.post("http://localhost:5000/users/login",{email:o.email,password:o.password});case 4:a=e.sent,n({token:a.data.token,user:a.data.user}),localStorage.setItem("auth-token",a.data.token),t.push("/dashboard"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),e.t0.response.data.msg&&j(Object(v.a)(Object(v.a)({},o),{},{error:e.t0.response.data.msg}));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}(),x=""===o.email||""===o.password;return Object(r.jsxs)(N.a,{container:!0,component:"main",className:e.root,children:[Object(r.jsx)(k.a,{}),Object(r.jsx)(N.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(r.jsxs)(N.a,{item:!0,xs:12,sm:8,md:5,component:S.a,elevation:6,square:!0,children:[Object(r.jsxs)("div",{className:e.paper,children:[Object(r.jsx)(w.a,{className:e.avatar,children:Object(r.jsx)(I.a,{})}),Object(r.jsx)(P.a,{component:"h1",variant:"h5",children:"Sign In"}),Object(r.jsxs)("form",{className:e.form,onSubmit:function(e){return e.preventDefault()},noValidate:!0,children:[Object(r.jsx)(C.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:b,helperText:"For testing you can use: test@test.com",FormHelperTextProps:{className:e.helper}}),Object(r.jsx)(C.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:b,helperText:"For testing you can use: password",FormHelperTextProps:{className:e.helper}}),Object(r.jsx)(P.a,{color:"secondary",children:o.error?o.error:""}),Object(r.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:h,disabled:x,children:"Sign In"}),Object(r.jsx)(N.a,{container:!0,children:Object(r.jsx)(N.a,{item:!0,children:Object(r.jsx)(d.b,{to:"/signup",children:"Don't have an account? Sign Up"})})})]})]}),Object(r.jsx)(B,{children:Object(r.jsx)(z,{})})]})]})}var B=g.a.div(R());function W(){var e=Object(O.a)(["\n    display: flex;\n    justify-content: center;\n    margin: auto;\n"]);return W=function(){return e},e}function A(){var e=D(),n=Object(a.useContext)(_).setUserData,t=Object(f.f)(),c=Object(a.useState)({displayName:"",email:"",password:"",passwordCheck:"",error:null}),i=Object(l.a)(c,2),o=i[0],j=i[1],b=function(e){var n=e.target,t=n.name,r=n.value;j((function(e){return Object(v.a)(Object(v.a)({},e),{},Object(m.a)({},t,r))}))},h=function(){var e=Object(u.a)(s.a.mark((function e(r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,p.a.post("http://localhost:5000/users/register",o);case 4:return e.next=6,p.a.post("http://localhost:5000/users/login",{email:o.email,password:o.password});case 6:a=e.sent,n({token:a.data.token,user:a.data.user}),localStorage.setItem("auth-token",a.data.token),t.push("/dashboard"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),e.t0.response.data.msg&&j(Object(v.a)(Object(v.a)({},o),{},{error:e.t0.response.data.msg}));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(n){return e.apply(this,arguments)}}(),x=""===o.name||""===o.email||""===o.password||""===o.passwordCheck;return Object(r.jsxs)(N.a,{container:!0,component:"main",className:e.root,children:[Object(r.jsx)(k.a,{}),Object(r.jsx)(N.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(r.jsxs)(N.a,{item:!0,xs:12,sm:8,md:5,component:S.a,elevation:6,square:!0,children:[Object(r.jsxs)("div",{className:e.paper,children:[Object(r.jsx)(w.a,{className:e.avatar,children:Object(r.jsx)(I.a,{})}),Object(r.jsx)(P.a,{component:"h1",variant:"h5",children:"Sign Up"}),Object(r.jsxs)("form",{className:e.form,onSubmit:function(e){return e.preventDefault()},noValidate:!0,children:[Object(r.jsx)(C.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"displayName",autoFocus:!0,value:o.displayName,onChange:b}),Object(r.jsx)(C.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:b}),Object(r.jsx)(C.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:b}),Object(r.jsx)(C.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"passwordCheck",label:"Password Confirmation",type:"password",id:"passwordCheck",autoComplete:"passwordCheck",onChange:b}),Object(r.jsx)(P.a,{color:"secondary",children:o.error?o.error:""}),Object(r.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:h,disabled:x,children:"Sign Up"}),Object(r.jsx)(N.a,{container:!0,children:Object(r.jsx)(N.a,{item:!0,children:Object(r.jsx)(d.b,{to:"/",children:"Already have an account? Sign In"})})})]})]}),Object(r.jsx)(E,{children:Object(r.jsx)(z,{})})]})]})}var E=g.a.div(W()),M=Object(U.a)((function(e){return{root:{display:"flex",alignContent:"center"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:170,flexShrink:0},drawerPaper:{width:170},drawerContainer:{overflow:"auto"},toolbar:e.mixins.toolbar,content:{flexGrow:1,padding:e.spacing(3)}}})),Q=t(262),Z=t(258),Y=t(255);function H(){var e=Object(O.a)(["\n    font-size: 1.5rem;\n    margin: 0.5rem;\n\n    &:hover {\n        animation: "," 1s 1;\n    }\n\n    @media(max-width: 600px) {\n        display: none;\n    }\n"]);return H=function(){return e},e}function J(){var e=Object(O.a)(["\n    25% {\n        transform: rotate(15deg);\n    }\n    50% {\n        transform: rotate(-30deg);\n    }\n    75% {\n        transform: rotate(5deg);\n    }\n    100% {\n        transform: rotate(0deg);\n    }\n"]);return J=function(){return e},e}var G=Object(g.b)(J()),$=g.a.div(H(),G),K=t(140),X=t(257),ee=t(256);function ne(){var e=Object(O.a)(["\n    width: 30px;\n    height: 30px;\n"]);return ne=function(){return e},e}function te(){var e=Object(a.useContext)(_),n=e.userData,t=e.setUserData,c=Object(a.useState)(null),i=Object(l.a)(c,2),o=i[0],s=i[1],u=Object(f.f)(),j="";n.user&&(j=n.user.displayName);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Y.a,{color:"inherit",onClick:function(e){s(e.currentTarget)},children:Object(r.jsxs)(ee.a,{badgeContent:0,color:"secondary",children:[Object(r.jsx)(re,{src:n.user.avatar}),Object(r.jsx)(P.a,{component:"p",style:{paddingLeft:"10px",paddingTop:"5px"},children:j})]})}),Object(r.jsxs)(K.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){s(null)},children:[Object(r.jsx)(X.a,{onClick:function(){u.push("/profile"),s(null)},children:"My Profile"}),Object(r.jsx)(X.a,{onClick:function(){t({token:void 0,user:void 0}),localStorage.setItem("auth-token",""),u.push("/")},children:"Logout"})]})]})}var re=Object(g.a)(w.a)(ne());function ae(){var e=Object(O.a)(["\n    justify-content: space-between;\n"]);return ae=function(){return e},e}function ce(){var e=Object(O.a)(["\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    color: white;\n"]);return ce=function(){return e},e}function ie(){var e=Object(O.a)(["\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    cursor: pointer;\n"]);return ie=function(){return e},e}function oe(e){var n=e.setOpenCreatePoll,t=Object(f.f)();return Object(r.jsxs)(le,{children:[Object(r.jsxs)(se,{onClick:function(){t.push("/dashboard")},children:[Object(r.jsx)($,{children:"\ud83d\udcac "}),Object(r.jsx)(P.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,children:"Social App"})]}),Object(r.jsxs)(ue,{children:[Object(r.jsx)(Y.a,{color:"inherit",onClick:function(){t.push("/friends")},children:Object(r.jsx)(P.a,{component:"p",children:"Friends"})}),Object(r.jsx)(Y.a,{color:"inherit",onClick:function(){t.push("/review")},children:Object(r.jsx)(P.a,{children:"Friends posts"})}),Object(r.jsx)(Y.a,{color:"inherit",onClick:function(){t.push("/opinions")},children:Object(r.jsx)(P.a,{component:"p",children:"Opinions"})}),Object(r.jsx)(Y.a,{color:"inherit",onClick:function(){n(!0)},children:Object(r.jsx)(P.a,{component:"p",children:"Create Poll"})}),Object(r.jsx)(te,{})]})]})}var se=g.a.div(ie()),ue=g.a.div(ce()),le=Object(g.a)(Z.a)(ae()),je=t(267),de=t(253),fe=t(216);function be(){var e=Object(O.a)(["\n    display: flex;\n    margin-left: 1em;\n    font-size: 0.9em;\n    font-weight: 600;\n"]);return be=function(){return e},e}function pe(){var e=Object(a.useContext)(_).userData,n=M(),t=Object(f.f)(),c=e.user.followings;return Object(r.jsxs)(je.a,{className:n.drawer,variant:"permanent",classes:{paper:n.drawerPaper},children:[Object(r.jsx)(Z.a,{}),Object(r.jsx)("div",{className:n.drawerContainer,children:Object(r.jsx)(de.a,{children:c.length>0&&c.map((function(e){return Object(r.jsxs)(fe.a,{button:!0,onClick:function(){return function(e){t.push({pathname:"/".concat(e._id,"/profile")})}(e)},children:[Object(r.jsx)(w.a,{src:e.avatar,alt:e.displayName}),Object(r.jsx)(he,{children:e.displayName})]},e._id)}))})})]})}var he=g.a.div(be()),xe=t(260),Oe=t(136),me=t.n(Oe),ve=t(83),ge=t.n(ve),we=t(84),ye=t.n(we);function ke(){var e=Object(O.a)(["\n    height: 70px;\n    width: 70px;\n    margin: 1em 0.5em 1.5em 0.5em;\n"]);return ke=function(){return e},e}function Ce(){var e=Object(O.a)(["\n    display: flex;\n    width: 50px;\n    justify-content: space-around;\n"]);return Ce=function(){return e},e}function Se(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]);return Se=function(){return e},e}function Ne(e){var n=e.imageUrl,t=e.imageVotes;return Object(r.jsxs)(Fe,{children:[Object(r.jsx)(Pe,{src:n,alt:"pollImage"}),Object(r.jsxs)(Ie,{children:[t?Object(r.jsx)(ge.a,{}):Object(r.jsx)(ye.a,{}),t]})]})}var Fe=g.a.div(Se()),Ie=g.a.div(Ce()),Pe=g.a.img(ke());function Ue(){var e=Object(O.a)(["\n    display: flex;\n    justify-content: center;\n    margin-top: 1em;\n"]);return Ue=function(){return e},e}function De(){var e=Object(O.a)(["\n    align-self: center;\n    color: lightgray;\n    font-size: 0.8em;\n"]);return De=function(){return e},e}function Te(){var e=Object(O.a)(["\n    margin-right: 0.5em;\n\n    &:hover {\n        cursor: pointer;\n        box-shadow: 0 5px 15px 0 rgba(0,0,0,0.25);\n\n        transition: all 0.3s ease 0s;\n    }\n"]);return Te=function(){return e},e}function Le(){var e=Object(O.a)(["\n    align-self: center;\n    text-align: center;\n    font-weight: 600;\n    width: 40vh;\n    margin-top: 0.5em;\n    margin-bottom: 0.5em;\n    margin-left: 2em;\n"]);return Le=function(){return e},e}function qe(){var e=Object(O.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n"]);return qe=function(){return e},e}function ze(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    background-color: white;\n    width: 45vh;\n    height: 40vh;\n    box-shadow: 0 5px 15px 0 rgba(0,0,0,0.1);\n    border-radius: 2px;\n    margin-right: 1em;\n"]);return ze=function(){return e},e}function _e(e){var n=e.poll,t=Object(a.useContext)(_),c=t.reload,i=t.setReload,o=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("auth-token"),e.prev=1,e.next=4,p.a.delete("http://localhost:5000/polls/delete",{data:{pollId:n._id,friendListId:n.friendlist},headers:{"x-auth-token":t}}).then(i(!c));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(Re,{children:[Object(r.jsxs)(Ve,{children:[Object(r.jsx)(Be,{children:n.question}),Object(r.jsx)(We,{onClick:o})]}),Object(r.jsxs)(Ae,{children:[n.votedForImageOne.length+n.votedForImageTwo.length," answers"]}),Object(r.jsxs)(Ee,{children:[Object(r.jsx)(Ne,{imageUrl:n.imageOneUrl,imageVotes:n.imageOneVotes}),Object(r.jsx)(Ne,{imageUrl:n.imageTwoUrl,imageVotes:n.imageTwoVotes})]})]})}var Re=g.a.div(ze()),Ve=g.a.div(qe()),Be=g.a.div(Le()),We=Object(g.a)(me.a)(Te()),Ae=g.a.span(De()),Ee=g.a.div(Ue()),Me=t(137),Qe=t.n(Me),Ze=function(){var e=localStorage.getItem("auth-token");try{return Qe.a.connect("http://localhost:5000/",{query:"token="+e})}catch(n){console.log(n)}},Ye=Ze(),He=Object(a.createContext)({socket:Ze()});function Je(){var e=Object(O.a)(["\n    flex-wrap: nowrap;\n    transform: translateZ(0);    \n"]);return Je=function(){return e},e}function Ge(){var e=Object(O.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n    overflow: hidden;\n    margin: 1em;\n    width: 110vh;\n    height: 44vh;\n"]);return Ge=function(){return e},e}function $e(){var e=Object(O.a)(["\n    align-self: flex-end;\n    text-transform: uppercase;\n    width: 120px;\n"]);return $e=function(){return e},e}function Ke(){var e=Object(O.a)(["\n    margin-top: 0;\n    margin-bottom: 0;\n"]);return Ke=function(){return e},e}function Xe(){var e=Object(O.a)(["\n    display: flex;\n    margin: 1em;\n    justify-content: space-between;\n"]);return Xe=function(){return e},e}function en(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n"]);return en=function(){return e},e}function nn(e){var n=e.setOpenCreatePoll,t=Object(a.useContext)(_),c=t.userData,i=t.reload,o=t.setReload,s=Object(a.useContext)(He),u=c.user.polls,l=function(){o(!i)};return s.on("uservoted",(function(){l()})),s.on("userunvoted",(function(){l()})),Object(r.jsxs)(tn,{children:[Object(r.jsxs)(rn,{children:[Object(r.jsx)(an,{children:"Polls"}),Object(r.jsx)(cn,{variant:"outlined",onClick:function(){n(!0)},children:"Create Poll"})]}),Object(r.jsx)(on,{children:Object(r.jsx)(sn,{children:u?u.map((function(e,n){return Object(r.jsx)(_e,{poll:e},n)})):Object(r.jsx)("div",{children:"Create your first poll"})})})]})}var tn=g.a.div(en()),rn=g.a.div(Xe()),an=g.a.h3(Ke()),cn=Object(g.a)(y.a)($e()),on=g.a.div(Ge()),sn=Object(g.a)(xe.a)(Je()),un=t(138),ln=t.n(un),jn=t(261);function dn(){var e=Object(O.a)(["\n    display: flex;\n    margin-left: 1em;\n    font-size: 0.9em;\n    font-weight: 600;\n"]);return dn=function(){return e},e}function fn(){var e=Object(O.a)(["\n    margin: 1em 1em 0 0;\n    cursor: pointer;\n"]);return fn=function(){return e},e}function bn(){var e=Object(O.a)(["\n    margin-left: 1.2em;\n    color: lightgray;\n    font-size: 0.8em;\n"]);return bn=function(){return e},e}function pn(){var e=Object(O.a)(["\n    margin: 0.8em 0em 0em 1em;\n    font-weight: 600;\n"]);return pn=function(){return e},e}function hn(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 30vh;\n"]);return hn=function(){return e},e}function xn(){var e=Object(O.a)(["\n    display: flex;\n    height: 10vh;\n    justify-content: space-between;\n    margin: 0.5em;\n"]);return xn=function(){return e},e}function On(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    background-color: white;\n    width: 45vh;\n    height: auto;\n    box-shadow: 0 5px 15px 0 rgba(0,0,0,0.1);\n    border-radius: 2px;\n    margin-right: 0.5em;\n"]);return On=function(){return e},e}function mn(e){var n=e.list,t=Object(a.useContext)(_),c=t.reload,i=t.setReload,o=t.setSelectedUser,j=Object(a.useState)(null),d=Object(l.a)(j,2),b=d[0],h=d[1],x=Object(f.f)(),O=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("auth-token"),e.prev=1,e.next=4,p.a.delete("http://localhost:5000/friendsList/delete",{data:{friendsListId:n._id},headers:{"x-auth-token":t}}).then(i(!c));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(vn,{children:[Object(r.jsxs)(gn,{children:[Object(r.jsxs)(wn,{children:[Object(r.jsx)(yn,{children:n.listName}),Object(r.jsx)(kn,{children:"4 online"})]}),Object(r.jsx)(Cn,{color:"disabled",onClick:function(e){h(e.currentTarget)}}),Object(r.jsx)(K.a,{id:"simple-menu",anchorEl:b,keepMounted:!0,open:Boolean(b),onClose:function(){h(null)},children:Object(r.jsx)(X.a,{onClick:O,children:"Delete List"})})]}),Object(r.jsx)(jn.a,{}),Object(r.jsx)(de.a,{children:n.friends.map((function(e){return Object(r.jsxs)(fe.a,{button:!0,onClick:function(){return o(n=e),void x.push({pathname:"/".concat(n._id,"/profile")});var n},children:[Object(r.jsx)(w.a,{src:e.avatar,alt:e.displayName}),Object(r.jsx)(Sn,{children:e.displayName})]},e._id)}))})]})}var vn=g.a.div(On()),gn=g.a.div(xn()),wn=g.a.div(hn()),yn=g.a.div(pn()),kn=g.a.div(bn()),Cn=Object(g.a)(ln.a)(fn()),Sn=g.a.div(dn());function Nn(){var e=Object(O.a)(["\n    flex-wrap: nowrap;\n    transform: translateZ(0);    \n"]);return Nn=function(){return e},e}function Fn(){var e=Object(O.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n    overflow: hidden;\n    margin: 1em;\n    width: 110vh;\n"]);return Fn=function(){return e},e}function In(){var e=Object(O.a)(["\n    align-self: flex-end;\n    text-transform: uppercase;\n    width: 120px;\n"]);return In=function(){return e},e}function Pn(){var e=Object(O.a)(["\n    margin-top: 0;\n    margin-bottom: 0;\n"]);return Pn=function(){return e},e}function Un(){var e=Object(O.a)(["\n    display: flex;\n    margin: 1em;\n    justify-content: space-between;\n"]);return Un=function(){return e},e}function Dn(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n"]);return Dn=function(){return e},e}function Tn(e){var n=e.setOpenCreateFriendsList,t=Object(a.useContext)(_).userData.user.friendsLists;return Object(r.jsxs)(Ln,{children:[Object(r.jsxs)(qn,{children:[Object(r.jsx)(zn,{children:"Friends List"}),Object(r.jsx)(_n,{variant:"outlined",onClick:function(){n(!0)},children:"Create List"})]}),Object(r.jsx)(Rn,{children:Object(r.jsx)(Vn,{children:t?t.map((function(e,n){return Object(r.jsx)(mn,{list:e},n)})):Object(r.jsx)("div",{children:"Create your first poll"})})})]})}var Ln=g.a.div(Dn()),qn=g.a.div(Un()),zn=g.a.h3(Pn()),_n=Object(g.a)(y.a)(In()),Rn=g.a.div(Fn()),Vn=Object(g.a)(xe.a)(Nn()),Bn=t(265),Wn=t(259),An=t(217);function En(){var e=Object(O.a)(["\n    display: flex;\n    justify-content: center;\n    align-content: center;\n"]);return En=function(){return e},e}function Mn(){var e=Object(O.a)(["\n    height: 70px;\n    width: 70px;\n"]);return Mn=function(){return e},e}function Qn(){var e=Object(O.a)(["\n    margin: auto;\n    display: flex;\n    justify-content: center;\n    align-content: center;\n    flex-direction: column;\n    color: lightgray;\n"]);return Qn=function(){return e},e}function Zn(){var e=Object(O.a)(["\n    display: block;\n    margin-bottom: 10px;\n"]);return Zn=function(){return e},e}function Yn(){var e=Object(O.a)(["\n    margin: auto;\n    margin-top: 0.5em;\n    margin-bottom: 0.5em;\n"]);return Yn=function(){return e},e}function Hn(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n    width: 40vh;\n    margin: 1em;\n    margin-left: 2em;\n"]);return Hn=function(){return e},e}function Jn(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    margin: 1em;\n    margin-left: 1em;\n"]);return Jn=function(){return e},e}function Gn(){var e=Object(O.a)(["\n    align-self: flex-end;\n    text-transform: uppercase;\n    width: 120px;\n    margin: auto;\n    margin-top: 1em;\n    margin-bottom: 1em;\n"]);return Gn=function(){return e},e}function $n(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    width: 100%;\n    height: 50vh;\n"]);return $n=function(){return e},e}function Kn(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 60vh;\n    width: 100vh;\n    background-color: white;\n    box-shadow: 0 5px 15px 0 rgba(0,0,0,0.1);\n    border-radius: 4px;\n"]);return Kn=function(){return e},e}function Xn(){var e=Object(O.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: auto;\n"]);return Xn=function(){return e},e}function et(e){var n=e.openCreatePoll,t=e.setOpenCreatePoll,c=Object(a.useContext)(_),i=c.userData,o=c.reload,j=c.setReload,d={question:"",friendlist:{},error:null},f=i.user.friendsLists,b=Object(a.useState)(d),h=Object(l.a)(b,2),x=h[0],O=h[1],g=Object(a.useState)(""),w=Object(l.a)(g,2),y=w[0],k=w[1],S=Object(a.useState)(),N=Object(l.a)(S,2),F=N[0],I=N[1],U=Object(a.useState)(),D=Object(l.a)(U,2),T=D[0],L=D[1],q=function(e){var n=new FileReader;n.readAsDataURL(e),n.onloadend=function(){I(n.result)}},z=function(e){var n=new FileReader;n.readAsDataURL(e),n.onloadend=function(){L(n.result)}},R=function(){var e=Object(u.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),x){e.next=3;break}return e.abrupt("return");case 3:return r={imageOne:F,imageTwo:T,question:x.question,friendlist:x.friendlist,author:i.user.displayName},e.next=6,V(r);case 6:j(!o),I(""),L(""),t(!1),O(d);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),V=function(){var e=Object(u.a)(s.a.mark((function e(n){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("auth-token"),e.prev=1,e.next=4,p.a.post("http://localhost:5000/polls/",{newPollForUpload:n},{headers:{"x-auth-token":t}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.response.data.msg&&O(Object(v.a)(Object(v.a)({},x),{},{error:e.t0.response.data.msg}));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}();return Object(r.jsx)(nt,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:n,onClose:function(){t(!1)},closeAfterTransition:!0,BackdropComponent:Wn.a,BackdropProps:{timeout:500},children:Object(r.jsx)(An.a,{in:n,children:Object(r.jsxs)(tt,{children:[Object(r.jsxs)(rt,{children:[Object(r.jsxs)(it,{children:[Object(r.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,id:"question",label:"Enter your question",name:"question",autoFocus:!0,onChange:function(e){var n=e.target,t=n.name,r=n.value;O((function(e){return Object(v.a)(Object(v.a)({},e),{},Object(m.a)({},t,r))}))}}),Object(r.jsx)(C.a,{id:"standard-select-friendlist",select:!0,label:"Select your friend list",name:"friendlist",value:y,onChange:function(e){O((function(n){return Object(v.a)(Object(v.a)({},n),{},{friendlist:e.target.value})})),k(e.target.value)},children:f&&f.map((function(e){return Object(r.jsx)(X.a,{value:e,children:e.listName},e._id)}))})]}),Object(r.jsxs)(ct,{children:[F?Object(r.jsx)(jt,{children:Object(r.jsx)(lt,{src:F,alt:"chosenOne"})}):Object(r.jsx)(ut,{children:"Select Image #1"}),Object(r.jsx)(ot,{children:Object(r.jsx)(st,{type:"file",name:"imageOne",onChange:function(e){var n=e.target.files[0];q(n)},value:""})}),T?Object(r.jsx)(jt,{children:Object(r.jsx)(lt,{src:T,alt:"chosenTwo"})}):Object(r.jsx)(ut,{children:"Select Image #2"}),Object(r.jsx)(ot,{children:Object(r.jsx)(st,{type:"file",name:"imageTwo",onChange:function(e){var n=e.target.files[0];z(n)},value:""})})]})]}),Object(r.jsx)(P.a,{color:"secondary",children:x.error?x.error:""}),Object(r.jsx)(at,{variant:"outlined",onClick:R,children:"Create Poll"})]})})})}var nt=Object(g.a)(Bn.a)(Xn()),tt=g.a.div(Kn()),rt=g.a.div($n()),at=Object(g.a)(y.a)(Gn()),ct=g.a.div(Jn()),it=g.a.div(Hn()),ot=g.a.form(Yn()),st=g.a.input(Zn()),ut=g.a.div(Qn()),lt=g.a.img(Mn()),jt=g.a.div(En());function dt(){var e=Object(O.a)(["\n    text-transform: uppercase;\n    width: 70px;\n    height: 20px;\n    background-color: ",";\n    position: absolute;\n    right: 16px;\n"]);return dt=function(){return e},e}function ft(){var e=Object(O.a)(["\n    display: flex;\n    margin-left: 1em;\n    font-size: 0.8em;\n    font-weight: 600;\n"]);return ft=function(){return e},e}function bt(e){var n=e.user,t=e.newFriendsList,c=e.setNewFriendsList,i=Object(a.useState)(!1),o=Object(l.a)(i,2),s=o[0],u=o[1];Object(a.useEffect)((function(){u(t.friends.some((function(e){return e._id===n._id})))}),[t.friends,n._id]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(fe.a,{button:!0,children:[Object(r.jsx)(w.a,{src:n.avatar}),Object(r.jsx)(pt,{children:n.displayName}),s?Object(r.jsx)(ht,{active:"active",variant:"contained",onClick:function(){var e=t.friends.filter((function(e){return e._id!==n._id}));c((function(n){return Object(v.a)(Object(v.a)({},n),{},{friends:e})}))},children:"Remove"}):Object(r.jsx)(ht,{variant:"outlined",onClick:function(){c((function(e){return Object(v.a)(Object(v.a)({},e),{},{friends:e.friends.concat(n)})}))},children:"Add"})]}),Object(r.jsx)(jn.a,{})]})}var pt=g.a.div(ft()),ht=Object(g.a)(y.a)(dt(),(function(e){return e.active?"lightred":"lightgreen"}));function xt(){var e=Object(O.a)(["\n    display: flex;\n    width: 40vh;\n    margin: auto;\n    margin-top: 1em;\n    margin-bottom: 1em;\n"]);return xt=function(){return e},e}function Ot(){var e=Object(O.a)(["\n    align-self: flex-end;\n    text-transform: uppercase;\n    width: 120px;\n    margin: auto;\n    margin-top: 1em;\n    margin-bottom: 1.5em;\n"]);return Ot=function(){return e},e}function mt(){var e=Object(O.a)(["\n    margin: auto;\n    margin-top: 0;\n    margin-bottom: 1em;\n    width: 85%;\n"]);return mt=function(){return e},e}function vt(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    width: 100%;\n    height: 70vh;\n"]);return vt=function(){return e},e}function gt(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 80vh;\n    width: 70vh;\n    background-color: white;\n    box-shadow: 0 5px 15px 0 rgba(0,0,0,0.1);\n    border-radius: 4px;\n"]);return gt=function(){return e},e}function wt(){var e=Object(O.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: auto;\n"]);return wt=function(){return e},e}function yt(e){var n=e.openCreateFriendsList,t=e.setOpenCreateFriendsList,c=Object(a.useContext)(_),i=c.userData,o=c.reload,j=c.setReload,d=i.user.followers,f={listName:"",friends:[],error:null},b=Object(a.useState)(f),h=Object(l.a)(b,2),x=h[0],O=h[1],g=function(){var e=Object(u.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,w(x);case 3:j(!o),O(f),t(!1);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(s.a.mark((function e(n){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("auth-token"),e.prev=1,e.next=4,p.a.post("http://localhost:5000/friendsList",{newFriendsList:n},{headers:{"x-auth-token":t}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.response.data.msg&&O(Object(v.a)(Object(v.a)({},n),{},{error:e.t0.response.data.msg}));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}();return Object(r.jsx)(kt,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:n,onClose:function(){t(!1),O(f)},closeAfterTransition:!0,BackdropComponent:Wn.a,BackdropProps:{timeout:500},children:Object(r.jsx)(An.a,{in:n,children:Object(r.jsxs)(Ct,{children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(It,{children:Object(r.jsx)(C.a,{margin:"normal",required:!0,fullWidth:!0,id:"listName",label:"Enter the list name",name:"listName",autoFocus:!0,onChange:function(e){var n=e.target,t=n.name,r=n.value;O((function(e){return Object(v.a)(Object(v.a)({},e),{},Object(m.a)({},t,r))}))}})}),Object(r.jsx)(Nt,{children:Object(r.jsx)(de.a,{children:d&&d.map((function(e){return Object(r.jsx)(bt,{user:e,newFriendsList:x,setNewFriendsList:O},e._id)}))})})]}),Object(r.jsx)(P.a,{color:"secondary",children:x.error?x.error:""}),Object(r.jsx)(Ft,{variant:"outlined",onClick:g,children:"Create List"})]})})})}var kt=Object(g.a)(Bn.a)(wt()),Ct=g.a.div(gt()),St=g.a.div(vt()),Nt=g.a.div(mt()),Ft=Object(g.a)(y.a)(Ot()),It=g.a.div(xt());function Pt(){var e=Object(O.a)(["\n    display: flex;\n    background-color: #fafafa;\n    height: 100%;\n"]);return Pt=function(){return e},e}function Ut(){var e=Object(a.useContext)(_).userData,n=M(),t=Object(a.useState)(!1),c=Object(l.a)(t,2),i=c[0],o=c[1],s=Object(a.useState)(!1),u=Object(l.a)(s,2),j=u[0],d=u[1];return Object(r.jsx)(Dt,{children:e.user?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Q.a,{position:"fixed",className:n.appBar,children:Object(r.jsx)(oe,{setOpenCreatePoll:o})}),Object(r.jsx)(pe,{}),Object(r.jsxs)("main",{className:n.content,children:[Object(r.jsx)("div",{className:n.toolbar}),Object(r.jsx)(nn,{setOpenCreatePoll:o}),Object(r.jsx)(Tn,{setOpenCreateFriendsList:d})]}),Object(r.jsx)(et,{openCreatePoll:i,setOpenCreatePoll:o}),Object(r.jsx)(yt,{openCreateFriendsList:j,setOpenCreateFriendsList:d})]}):Object(r.jsx)("div",{children:"Not authorized"})})}var Dt=g.a.div(Pt());function Tt(){var e=Object(O.a)(["\n\tfont-size: 1em;\n\tpadding: 0.5rem 0.5em;\n\tborder-radius: 4px;\n\tbackground-color: white;\n\tborder: 1px solid transparent;\n\tmargin: 1em;\n\theight: 1.2em;\n\twidth: 100%;\n\tbox-shadow: 0 0 0 1px #6b7177;\n"]);return Tt=function(){return e},e}function Lt(){var e=Object(O.a)(["\n    justify-content: flex-start;\n    display: flex;\n\n\t@media(max-width: 600px) {\n        flex-wrap: wrap;\n    }\n"]);return Lt=function(){return e},e}function qt(e){var n=e.setQuery,t=e.query;return Object(r.jsx)(zt,{children:Object(r.jsx)(_t,{type:"text",placeholder:"Search here",value:t,onChange:function(e){return function(e){var t=e.target.value;n(t)}(e)}})})}var zt=g.a.div(Lt()),_t=g.a.input(Tt());function Rt(){var e=Object(O.a)(["\n    cursor: pointer;\n"]);return Rt=function(){return e},e}function Vt(){var e=Object(O.a)(["\n    text-transform: uppercase;\n    width: 100px;\n    height: 25px;\n    background-color: ",";\n    position: absolute;\n    right: 16px;\n"]);return Vt=function(){return e},e}function Bt(){var e=Object(O.a)(["\n    display: flex;\n    margin-left: 1em;\n    font-size: 0.9em;\n    font-weight: 600;\n    cursor: pointer;\n"]);return Bt=function(){return e},e}function Wt(e){var n=e.user,t=Object(a.useContext)(_),c=t.userData,i=t.reload,o=t.setReload,j=t.setSelectedUser,d=Object(a.useState)(!1),b=Object(l.a)(d,2),h=b[0],x=b[1],O=Object(f.f)();Object(a.useEffect)((function(){x(c.user.followings.some((function(e){return e._id===n._id})))}));var m=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:o(!i);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:o(!i);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=localStorage.getItem("auth-token"),w=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.put("http://localhost:5000/friends/follow",{userToFollow:n},{headers:{"x-auth-token":g}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0.response.data.msg);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.put("http://localhost:5000/friends/unfollow",{userToUnfollow:n},{headers:{"x-auth-token":g}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0.response.data.msg);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),k=function(){j(n),O.push({pathname:"/".concat(n._id,"/profile")})};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(fe.a,{children:[Object(r.jsx)(Mt,{src:n.avatar,alt:n.displayName,onClick:function(){return k()}}),Object(r.jsx)(At,{onClick:function(){return k()},children:n.displayName}),h?Object(r.jsx)(Et,{active:"active",variant:"contained",onClick:v,children:"Unfollow"}):Object(r.jsx)(Et,{variant:"outlined",onClick:m,children:"Follow"})]}),Object(r.jsx)(jn.a,{})]})}var At=g.a.div(Bt()),Et=Object(g.a)(y.a)(Vt(),(function(e){return e.active?"lightred":"lightgreen"})),Mt=Object(g.a)(w.a)(Rt());function Qt(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    width: 100%;\n    background-color: white;\n    box-shadow: 0 5px 15px 0 rgba(0,0,0,0.1);\n    border-radius: 4px;\n"]);return Qt=function(){return e},e}function Zt(){var e=Object(a.useState)(""),n=Object(l.a)(e,2),t=n[0],c=n[1],i=Object(a.useState)(""),o=Object(l.a)(i,2),j=o[0],d=o[1];return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("auth-token"),e.prev=1,e.next=4,p.a.get("http://localhost:5000/friends/",{headers:{"x-auth-token":n}}).then((function(e){c(e.data.filteredUsers)}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0.response.data.msg);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.jsxs)(Yt,{children:[Object(r.jsx)(qt,{query:j,setQuery:d}),Object(r.jsx)(de.a,{children:t.length>0&&t.filter((function(e){return!j||!!e.displayName.toLowerCase().includes(j)})).map((function(e){return Object(r.jsx)(Wt,{user:e},e._id)}))})]})}var Yt=g.a.div(Qt());function Ht(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    width: 100%;\n    background-color: white;\n    box-shadow: 0 5px 15px 0 rgba(0,0,0,0.1);\n    border-radius: 4px;\n"]);return Ht=function(){return e},e}function Jt(){var e=Object(a.useContext)(_).userData.user.followers,n=Object(a.useState)(""),t=Object(l.a)(n,2),c=t[0],i=t[1];return Object(r.jsxs)(Gt,{children:[Object(r.jsx)(qt,{query:c,setQuery:i}),Object(r.jsx)(de.a,{children:e&&e.map((function(e){return Object(r.jsx)(Wt,{user:e},e._id)}))})]})}var Gt=g.a.div(Ht());function $t(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    width: 100%;\n    background-color: white;\n    box-shadow: 0 5px 15px 0 rgba(0,0,0,0.1);\n    border-radius: 4px;\n"]);return $t=function(){return e},e}function Kt(){var e=Object(a.useContext)(_).userData.user.followings,n=Object(a.useState)(""),t=Object(l.a)(n,2),c=t[0],i=t[1];return Object(r.jsxs)(Xt,{children:[Object(r.jsx)(qt,{query:c,setQuery:i}),Object(r.jsx)(de.a,{children:e&&e.map((function(e){return Object(r.jsx)(Wt,{user:e},e._id)}))})]})}var Xt=g.a.div($t());function er(){var e=Object(O.a)(["\n    display: flex;\n    font-weight: 600;\n    font-size: 1em;\n    justify-content: center;\n    align-items: center;\n    line-height: 8vh;\n    text-transform: uppercase;\n    width: 33%;\n    cursor: pointer;\n\n    &:hover {\n        border-bottom: 4px solid rgba(245,60,47,0.85);\n        transition: all 0.3s ease 0s;\n    }\n"]);return er=function(){return e},e}function nr(){var e=Object(O.a)(["\n    display: flex;\n    height: 8vh;\n    align-content: center;\n    justify-content: space-around;\n"]);return nr=function(){return e},e}function tr(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 90vh;\n    width: 75%;\n    margin: auto;\n    margin-top: 0.5em;\n"]);return tr=function(){return e},e}function rr(){var e=Object(a.useState)("suggestions"),n=Object(l.a)(e,2),t=n[0],c=n[1];return Object(r.jsxs)(ar,{children:[Object(r.jsxs)(cr,{children:[Object(r.jsx)(ir,{onClick:function(){return c("suggestions")},children:"Suggestions"}),Object(r.jsx)(ir,{onClick:function(){return c("followers")},children:"Followers"}),Object(r.jsx)(ir,{onClick:function(){return c("followings")},children:"Followings"})]}),"suggestions"===t&&Object(r.jsx)(Zt,{}),"followers"===t&&Object(r.jsx)(Jt,{}),"followings"===t&&Object(r.jsx)(Kt,{})]})}var ar=g.a.div(tr()),cr=g.a.div(nr()),ir=g.a.div(er());function or(){var e=Object(O.a)(["\n    display: flex;\n    background-color: #fafafa;\n    height: 100%;\n"]);return or=function(){return e},e}function sr(){var e=Object(a.useContext)(_).userData,n=M(),t=Object(a.useState)(!1),c=Object(l.a)(t,2),i=c[0],o=c[1];return Object(r.jsx)(ur,{children:e.user?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Q.a,{position:"fixed",className:n.appBar,children:Object(r.jsx)(oe,{setOpenCreatePoll:o})}),Object(r.jsx)(pe,{}),Object(r.jsxs)("main",{className:n.content,children:[Object(r.jsx)("div",{className:n.toolbar}),Object(r.jsx)(rr,{})]}),Object(r.jsx)(et,{openCreatePoll:i,setOpenCreatePoll:o})]}):Object(r.jsx)("div",{children:"Not authorized"})})}var ur=g.a.div(or());function lr(){var e=Object(O.a)(["\n    display: flex;\n    justify-content: center;\n    margin-top: 1em;\n"]);return lr=function(){return e},e}function jr(){var e=Object(O.a)(["\n    align-self: center;\n    color: lightgray;\n    font-size: 0.8em;\n"]);return jr=function(){return e},e}function dr(){var e=Object(O.a)(["\n    align-self: center;\n    text-align: center;\n    font-weight: 600;\n    width: 40vh;\n    margin-top: 0.5em;\n    margin-bottom: 0.5em;\n"]);return dr=function(){return e},e}function fr(){var e=Object(O.a)(["\n    display: flex;\n    align-items: center;\n    margin: auto;\n    margin-top: 0;\n    margin-bottom: 0;\n"]);return fr=function(){return e},e}function br(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    background-color: white;\n    width: 45vh;\n    height: 40vh;\n    box-shadow: 0 5px 15px 0 rgba(0,0,0,0.1);\n    border-radius: 2px;\n    margin-right: 1em;\n    cursor: pointer;\n"]);return br=function(){return e},e}function pr(e){var n=e.poll;return Object(r.jsxs)(hr,{children:[Object(r.jsx)(xr,{children:Object(r.jsx)(Or,{children:n.question})}),Object(r.jsxs)(mr,{children:[n.votedForImageOne.length+n.votedForImageTwo.length," answers"]}),Object(r.jsxs)(vr,{children:[Object(r.jsx)(Ne,{imageUrl:n.imageOneUrl,imageVotes:n.imageOneVotes}),Object(r.jsx)(Ne,{imageUrl:n.imageTwoUrl,imageVotes:n.imageTwoVotes})]})]})}var hr=g.a.div(br()),xr=g.a.div(fr()),Or=g.a.div(dr()),mr=g.a.span(jr()),vr=g.a.div(lr());function gr(){var e=Object(O.a)(["\n    flex-wrap: nowrap;\n    transform: translateZ(0);    \n"]);return gr=function(){return e},e}function wr(){var e=Object(O.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n    overflow: hidden;\n    margin: 1em;\n    width: 110vh;\n    height: 44vh;\n"]);return wr=function(){return e},e}function yr(){var e=Object(O.a)(["\n    display: flex;\n    background-color: #fafafa;\n    height: 100%;\n"]);return yr=function(){return e},e}function kr(){var e=Object(a.useContext)(_).userData,n=M(),t=Object(a.useState)(!1),c=Object(l.a)(t,2),i=c[0],o=c[1];return Object(r.jsx)(Cr,{children:e.user?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Q.a,{position:"fixed",className:n.appBar,children:Object(r.jsx)(oe,{setOpenCreatePoll:o})}),Object(r.jsx)(pe,{}),Object(r.jsxs)("main",{className:n.content,children:[Object(r.jsx)("div",{className:n.toolbar}),Object(r.jsx)(Sr,{children:Object(r.jsx)(Nr,{children:e.user.polls?e.user.polls.map((function(e,n){return Object(r.jsx)(pr,{poll:e},n)})):Object(r.jsx)("div",{children:"Create your first poll"})})})]}),Object(r.jsx)(et,{openCreatePoll:i,setOpenCreatePoll:o})]}):Object(r.jsx)("div",{children:"Not authorized"})})}var Cr=g.a.div(yr()),Sr=g.a.div(wr()),Nr=Object(g.a)(xe.a)(gr());function Fr(){var e=Object(O.a)(["\n    align-self: flex-end;\n    text-transform: uppercase;\n    width: 140px;\n    margin: auto;\n    margin-top: 1.5em;\n    margin-bottom: 0;\n"]);return Fr=function(){return e},e}function Ir(){var e=Object(O.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin-top: 1em;\n"]);return Ir=function(){return e},e}function Pr(){var e=Object(O.a)(["\n    display: flex;\n    justify-content: center;\n    align-content: center;\n    flex-direction: column;\n    color: lightgray;\n    margin-top: 1.5em;\n    margin-bottom: 1em;\n"]);return Pr=function(){return e},e}function Ur(){var e=Object(O.a)(["\n    margin-top: 1em;\n"]);return Ur=function(){return e},e}function Dr(){var e=Object(O.a)(["\n    margin: auto;\n    margin-top: 0.5em;\n    margin-bottom: 0.5em;\n    width: 50%;\n"]);return Dr=function(){return e},e}function Tr(){var e=Object(O.a)(["\n    display: flex;\n    justify-content: center;\n    align-content: center;\n    margin-top: 2em;\n"]);return Tr=function(){return e},e}function Lr(){var e=Object(O.a)(["\n    height: 70px;\n    width: 70px;\n"]);return Lr=function(){return e},e}function qr(){var e=Object(O.a)(["\n    margin: auto;\n\tcolor: grey;\n    padding-top: 10px;\n    flex: 3;\n    text-align: center;\n"]);return qr=function(){return e},e}function zr(){var e=Object(O.a)(["\n    display: flex;\n"]);return zr=function(){return e},e}function _r(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 45%;\n    justify-content: space-between;\n    margin: auto;\n\tmargin-top: 1.5em;\n"]);return _r=function(){return e},e}function Rr(){var e=Object(O.a)(["\n    text-align: center;\n    font-size: 0.5em;\n    flex: 7;\n"]);return Rr=function(){return e},e}function Vr(){var e=Object(O.a)(["\n    display: flex;\n    background-color: #fafafa;\n    height: 100%;\n"]);return Vr=function(){return e},e}function Br(){var e=Object(a.useContext)(_),n=e.userData,t=e.reload,c=e.setReload,i=M(),o=Object(a.useState)(!1),j=Object(l.a)(o,2),d=j[0],f=j[1],b=Object(a.useState)(),h=Object(l.a)(b,2),x=h[0],O=h[1],g={displayName:"",avatar:"",error:null},w=Object(a.useState)(g),y=Object(l.a)(w,2),k=y[0],C=y[1],S=function(e){var n=new FileReader;n.readAsDataURL(e),n.onloadend=function(){O(n.result)}},N=function(){var e=Object(u.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),k){e.next=3;break}return e.abrupt("return");case 3:return r={displayName:k.displayName,avatar:x},e.next=6,F(r);case 6:c(!t),O(""),C(g);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),F=function(){var e=Object(u.a)(s.a.mark((function e(n){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("auth-token"),e.prev=1,e.next=4,p.a.put("http://localhost:5000/users/update",{updatedUserForUpload:n},{headers:{"x-auth-token":t}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.response.data.msg&&C(Object(v.a)(Object(v.a)({},k),{},{error:e.t0.response.data.msg}));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}();return Object(r.jsx)(Wr,{children:n.user?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Q.a,{position:"fixed",className:i.appBar,children:Object(r.jsx)(oe,{setOpenCreatePoll:f})}),Object(r.jsx)(pe,{}),Object(r.jsxs)("main",{className:i.content,children:[Object(r.jsx)("div",{className:i.toolbar}),Object(r.jsxs)(Er,{children:[Object(r.jsxs)(Mr,{children:[Object(r.jsx)(Ar,{label:"Name",id:"name",name:"displayName",type:"text",onChange:function(e){var n=e.target,t=n.name,r=n.value;C((function(e){return Object(v.a)(Object(v.a)({},e),{},Object(m.a)({},t,r))}))},value:k.displayName}),n&&Object(r.jsx)(Qr,{children:n.user.displayName})]}),Object(r.jsxs)($r,{children:[x?Object(r.jsx)(Yr,{children:Object(r.jsx)(Zr,{src:x,alt:"chosenOne"})}):Object(r.jsx)(Gr,{children:"Select Your Avatar"}),Object(r.jsx)(Hr,{children:Object(r.jsx)(Jr,{type:"file",name:"imageOne",onChange:function(e){var n=e.target.files[0];S(n)},value:""})})]}),Object(r.jsx)(Kr,{variant:"outlined",onClick:N,children:"Update Profile"})]})]}),Object(r.jsx)(et,{openCreatePoll:d,setOpenCreatePoll:f})]}):Object(r.jsx)("div",{children:"Not authorized"})})}var Wr=g.a.div(Vr()),Ar=Object(g.a)(C.a)(Rr()),Er=g.a.form(_r()),Mr=g.a.div(zr()),Qr=g.a.div(qr()),Zr=g.a.img(Lr()),Yr=g.a.div(Tr()),Hr=g.a.div(Dr()),Jr=g.a.input(Ur()),Gr=g.a.div(Pr()),$r=g.a.div(Ir()),Kr=Object(g.a)(y.a)(Fr());function Xr(){var e=Object(O.a)(["\n    cursor: pointer;\n"]);return Xr=function(){return e},e}function ea(){var e=Object(O.a)(["\n    cursor: pointer;\n"]);return ea=function(){return e},e}function na(){var e=Object(O.a)(["\n    height: 70px;\n    width: 70px;\n    margin: 1em 0.5em 1.5em 0.5em;\n"]);return na=function(){return e},e}function ta(){var e=Object(O.a)(["\n    display: flex;\n    width: 50px;\n    justify-content: space-around;\n"]);return ta=function(){return e},e}function ra(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]);return ra=function(){return e},e}function aa(e){var n=e.userId,t=e.pollId,c=e.imageUrl,i=e.imageVotes,o=e.votedForThisImage,l=e.votedForOtherImage,j=e.image,d=Object(a.useContext)(_),f=d.reload,b=d.setReload,h=Object(a.useContext)(He),x=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l||!l.includes(n)){e.next=4;break}return e.abrupt("return");case 4:if(!o||!o.includes(n)){e.next=9;break}return e.next=7,m();case 7:e.next=11;break;case 9:return e.next=11,O();case 11:b(!f);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("auth-token"),e.prev=1,e.next=4,p.a.put("http://localhost:5000/polls/vote-add",{pollId:t,imageVotes:i,image:j},{headers:{"x-auth-token":n}});case 4:h.emit("user-add-vote"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(u.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("auth-token"),e.prev=1,e.next=4,p.a.put("http://localhost:5000/polls/vote-remove",{pollId:t,imageVotes:i,image:j},{headers:{"x-auth-token":n}});case 4:h.emit("user-remove-vote"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(ca,{children:[Object(r.jsx)(oa,{src:c,alt:"pollImage"}),Object(r.jsxs)(ia,{children:[o&&o.includes(n)?Object(r.jsx)(sa,{onClick:x}):Object(r.jsx)(ua,{onClick:x}),i]})]})}var ca=g.a.div(ra()),ia=g.a.div(ta()),oa=g.a.img(na()),sa=Object(g.a)(ge.a)(ea()),ua=Object(g.a)(ye.a)(Xr());function la(){var e=Object(O.a)(["\n    display: flex;\n    justify-content: center;\n    margin-top: 1em;\n"]);return la=function(){return e},e}function ja(){var e=Object(O.a)(["\n    align-self: center;\n    color: lightgray;\n    font-size: 0.8em;\n"]);return ja=function(){return e},e}function da(){var e=Object(O.a)(["\n    align-self: center;\n    text-align: center;\n    font-weight: 600;\n    width: 40vh;\n    margin-top: 0.5em;\n    margin-bottom: 0.5em;\n    margin-left: 1em;\n"]);return da=function(){return e},e}function fa(){var e=Object(O.a)(["\n    display: flex;\n    align-items: center;\n"]);return fa=function(){return e},e}function ba(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    background-color: white;\n    width: 45vh;\n    height: 40vh;\n    box-shadow: 0 5px 15px 0 rgba(0,0,0,0.1);\n    border-radius: 2px;\n    margin-right: 1em;\n"]);return ba=function(){return e},e}function pa(e){var n=e.poll,t=e.userId;return Object(r.jsxs)(ha,{children:[Object(r.jsx)(xa,{children:Object(r.jsx)(Oa,{children:n.question})}),Object(r.jsxs)(ma,{children:["Created by ",n.author]}),Object(r.jsxs)(va,{children:[Object(r.jsx)(aa,{imageUrl:n.imageOneUrl,imageVotes:n.imageOneVotes,votedForThisImage:n.votedForImageOne,votedForOtherImage:n.votedForImageTwo,image:"one",pollId:n._id,userId:t}),Object(r.jsx)(aa,{imageUrl:n.imageTwoUrl,imageVotes:n.imageTwoVotes,votedForThisImage:n.votedForImageTwo,votedForOtherImage:n.votedForImageOne,image:"two",pollId:n._id,userId:t})]})]})}var ha=g.a.div(ba()),xa=g.a.div(fa()),Oa=g.a.div(da()),ma=g.a.span(ja()),va=g.a.div(la());function ga(){var e=Object(O.a)(["\n    flex-wrap: nowrap;\n    transform: translateZ(0);    \n"]);return ga=function(){return e},e}function wa(){var e=Object(O.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n    overflow: hidden;\n    margin: 1em;\n    width: 110vh;\n    height: 44vh;\n"]);return wa=function(){return e},e}function ya(){var e=Object(O.a)(["\n    display: flex;\n    background-color: #fafafa;\n    height: 100%;\n"]);return ya=function(){return e},e}function ka(){var e=Object(a.useContext)(_).userData,n=M(),t=Object(a.useState)(!1),c=Object(l.a)(t,2),i=c[0],o=c[1];return Object(r.jsx)(Ca,{children:e.user?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Q.a,{position:"fixed",className:n.appBar,children:Object(r.jsx)(oe,{setOpenCreatePoll:o})}),Object(r.jsx)(pe,{}),Object(r.jsxs)("main",{className:n.content,children:[Object(r.jsx)("div",{className:n.toolbar}),Object(r.jsx)(Sa,{children:Object(r.jsx)(Na,{children:e.user.pollsForReview?e.user.pollsForReview.map((function(n,t){return Object(r.jsx)(pa,{poll:n,userId:e.user.id},t)})):Object(r.jsx)("div",{children:"Create your first poll"})})})]}),Object(r.jsx)(et,{openCreatePoll:i,setOpenCreatePoll:o})]}):Object(r.jsx)("div",{children:"Not authorized"})})}var Ca=g.a.div(ya()),Sa=g.a.div(wa()),Na=Object(g.a)(xe.a)(ga());function Fa(){var e=Object(O.a)(["\n    height: 70px;\n    width: 70px;\n"]);return Fa=function(){return e},e}function Ia(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 45%;\n    justify-content: space-between;\n    align-items: center;\n    margin: auto;\n\tmargin-top: 1.5em;\n"]);return Ia=function(){return e},e}function Pa(){var e=Object(O.a)(["\n    display: flex;\n    background-color: #fafafa;\n    height: 100vh;\n"]);return Pa=function(){return e},e}function Ua(){var e=M(),n=Object(a.useContext)(_),t=n.userData,c=n.setUserData,i=Object(a.useState)(!1),o=Object(l.a)(i,2),j=o[0],d=o[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),x=h[0],O=h[1],m=Object(f.g)().pathname.split("/")[1];if(Object(a.useEffect)((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){var n,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("auth-token"),e.next=3,p.a.post("http://localhost:5000/users/getUserProfile",{userId:m},{headers:{"x-auth-token":n}});case 3:t=e.sent,O(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[m]),!t.user){var v=localStorage.getItem("auth-token");(function(){var e=Object(u.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("http://localhost:5000/users/",{headers:{"x-auth-token":v}});case 2:n=e.sent,c({token:v,user:n.data});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}return Object(r.jsx)(Da,{children:x&&t.user.followings.some((function(e){return e._id===m}))?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Q.a,{position:"fixed",className:e.appBar,children:Object(r.jsx)(oe,{setOpenCreatePoll:d})}),Object(r.jsx)(pe,{}),Object(r.jsxs)("main",{className:e.content,children:[Object(r.jsx)("div",{className:e.toolbar}),Object(r.jsxs)(Ta,{children:[Object(r.jsx)(La,{alt:x.displayName,src:x.avatar}),Object(r.jsx)("h2",{children:x.displayName})]})]}),Object(r.jsx)(et,{openCreatePoll:j,setOpenCreatePoll:d})]}):Object(r.jsx)("div",{children:"You can only view profiles of users that you follow"})})}var Da=g.a.div(Pa()),Ta=g.a.form(Ia()),La=Object(g.a)(w.a)(Fa());t(211);var qa=function(){var e=Object(a.useState)({token:void 0,user:void 0}),n=Object(l.a)(e,2),t=n[0],c=n[1],i=Object(a.useState)(!0),o=Object(l.a)(i,2),b=o[0],h=o[1],O=Object(a.useState)(),m=Object(l.a)(O,2),v=m[0],g=m[1],w=Object(a.useState)(""),y=Object(l.a)(w,2),k=y[0],C=y[1];return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){var n,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(n=localStorage.getItem("auth-token"))&&(localStorage.setItem("auth-token",""),n=""),e.next=4,p.a.post("http://localhost:5000/users/tokenIsValid",null,{headers:{"x-auth-token":n}});case 4:if(!e.sent.data){e.next=11;break}return e.next=8,p.a.get("http://localhost:5000/users/",{headers:{"x-auth-token":n}});case 8:t=e.sent,c({token:n,user:t.data}),C(t.data.polls);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[b]),Object(r.jsx)(He.Provider,{value:Ye,children:Object(r.jsx)(j.a,{theme:x,children:Object(r.jsx)(d.a,{children:Object(r.jsx)(_.Provider,{value:{userData:t,setUserData:c,reload:b,setReload:h,polls:k,setPolls:C,selectedUser:v,setSelectedUser:g},children:Object(r.jsxs)(f.c,{children:[Object(r.jsx)(f.a,{exact:!0,path:"/",children:Object(r.jsx)(V,{})}),Object(r.jsx)(f.a,{exact:!0,path:"/signup",children:Object(r.jsx)(A,{})}),Object(r.jsx)(f.a,{exact:!0,path:"/dashboard",children:Object(r.jsx)(Ut,{})}),Object(r.jsx)(f.a,{exact:!0,path:"/friends",children:Object(r.jsx)(sr,{})}),Object(r.jsx)(f.a,{exact:!0,path:"/review",children:Object(r.jsx)(ka,{})}),Object(r.jsx)(f.a,{exact:!0,path:"/opinions",children:Object(r.jsx)(kr,{})}),Object(r.jsx)(f.a,{exact:!0,path:"/profile",children:Object(r.jsx)(Br,{})}),Object(r.jsx)(f.a,{exact:!0,path:"/:userId/profile",children:Object(r.jsx)(Ua,{})})]})})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(r.jsx)(qa,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[212,1,2]]]);
//# sourceMappingURL=main.eef257aa.chunk.js.map